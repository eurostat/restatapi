<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Search and Retrieve Data from Eurostat Database • restatapi</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Search and Retrieve Data from Eurostat Database">
<meta property="og:description" content="Eurostat is the statistical office of the European Union and provides high quality statistics for Europe.
             Large set of the data is disseminated through the Eurostat database (&lt;https://ec.europa.eu/eurostat/data/database&gt;). 
             The tools are using the REST API with the Statistical Data and Metadata eXchange (SDMX &lt;https://sdmx.org&gt;) Web Services 
             (&lt;https://ec.europa.eu/eurostat/web/sdmx-web-services/about-this-service&gt;) to search and download data from 
             the Eurostat database using the SDMX standard. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">restatapi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/eurostat/restatapi/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="restatapi" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#restatapi" class="anchor"></a>restatapi</h1></div>
<p>An R package to search and retrieve data from Eurostat database using SDMX</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>installation</h2>
<p>Now ‘restatapi’ is on <a href="https://CRAN.R-project.org/package=restatapi">CRAN</a> so it can be installed by</p>
<div class="sourceCode" id="cb1"><pre class="r">&gt; install.packages("restatapi")</pre></div>
<p>or use the development version from GitHub</p>
<div class="sourceCode" id="cb2"><pre class="r">&gt; devtools::install_github("eurostat/restatapi")</pre></div>
</div>
<div id="background" class="section level2">
<h2 class="hasAnchor">
<a href="#background" class="anchor"></a>background</h2>
<p>This package is similar to other packages like the <a href="https://cran.r-project.org/package=eurostat">eurostat</a>, <a href="https://cran.r-project.org/package=rdbnomics">rdbnomics</a>, <a href="https://cran.r-project.org/package=RJSDMX">RJSDMX</a> or <a href="https://cran.r-project.org/package=TSsdmx">TSsdmx</a> which can be used to download data from Eurostat database. The difference is that <code>restatapi</code> is based on SDMX (Statistical Data and Metadata eXchange) and XML to search and retrieve filtered datasets and use the TSV (tab separeted values) bulk download facility to get whole data tables. The code was written in a way that the number of dependencies on other packages should be very small. The <code>restatapi</code> package provides flexible filtering options, data caching, and uses the <code>parallel</code> and <code>data.table</code> package to handle large dataset in an efficient way.</p>
</div>
<div id="content" class="section level2">
<h2 class="hasAnchor">
<a href="#content" class="anchor"></a>content</h2>
<p>The package contains 8 main functions and several other sub functions in 3 areas.</p>
<ol>
<li>downloading and filtering the list of avaialble datasets:
<ul>
<li>the <code>get_eurostat_toc</code> function downloads the Table of Contents (TOC) of all <a href="https://ec.europa.eu/eurostat/data/database">Eurostat datasets</a>.</li>
<li>the <code>search_eurostat_toc</code> function provides the facility to search for phrase, pattern and regular expressions in the TOC and returns the rows of the TOC where the search string(s) found.</li>
</ul>
</li>
<li>downloading and searching in the metadata:
<ul>
<li>the <code>get_eurostat_dsd</code> function returns the Data Structure Definition (DSD) of a given dataset containing the possible dimensions and values with their labels.</li>
<li>the <code>search_eurostat_dsd</code> function provides the facility to search for phrase, pattern and regular expressions in the DSD and returns the rows of the DSD where the search string(s) found.</li>
<li>the <code>create_filter_table</code> function creates a filter table based on the DSD and the search expresssions which can be applied on the local computer to filter out data from whole data tables.</li>
</ul>
</li>
<li>retrieving full or partial datasets:
<ul>
<li>the <code>get_eurostat_raw</code> function downloads the full data table as it is either using the TSV format (default) or the SDMX format keeping all the column names and rows as it is in the original files.</li>
<li>the <code>get_eurostat_bulk</code> function downloads the full data set keeping only a unique frequency with standardized column names and removing those columns which do not contain additional information, like frequency and time format.<br>
</li>
<li>the <code>get_eurostat_data</code> function retrieves a data table which can be labeled using the labels from the DSD. The table can contain the whole datasets or only part of it if filters are applied. If after the filtering the number of observations is to large, then the whole dataset is downloaded and the filter applied on the local computer. If no filter used, it is equivalent with the <code>get_eurostat_bulk</code> function, but in this case labels can be applied.</li>
</ul>
</li>
</ol>
<p>Below there are examples demonstrating the main features, the detailed documentation of the functions is in the package.</p>
<p>Next to the functions the package contains a list of country codes for different groups of European countries based on the <a href="https://ec.europa.eu/eurostat/ramon/nomenclatures/index.cfm?TargetUrl=LST_NOM_DTL&amp;StrNom=CL_GEO&amp;StrLanguageCode=EN&amp;IntPcKey=42277583&amp;IntResult=1&amp;StrLayoutCode=HIERARCHIC">Eurostat standard code list</a>, e.g.: European Union (EU28, …, EU6), Euro Area (EA19, …, EA11) or New Member States (NMS13, …, NMS2).</p>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>examples</h2>
<p><strong>Example 1:</strong> Setting the number of cores/threads to 3 and download the txt version of the English TOC and search not case sensitive for the word <code>energie</code> in the German version of the TOC.</p>
<div class="sourceCode" id="cb3"><pre class="r">&gt; options(restatapi_cores=3)
&gt; get_eurostat_toc()
&gt; get_get_eurostat_toc(mode="txt",verbose=TRUE)
&gt; search_eurostat_toc("energie",lang="de",ignore.case=TRUE)</pre></div>
<p><strong>Other examples:</strong></p>
<div class="sourceCode" id="cb4"><pre class="r">&gt; dsd&lt;-get_eurostat_dsd("ei_bsfs_q")
&gt; search_eurostat_dsd("EU",dsd)
&gt; search_eurostat_dsd("EU",dsd,name=FALSE)
&gt; 
&gt; get_eurostat_data("NAMA_10_GDP")
&gt; get_eurostat_data("nama_10_gdp",update_cache=TRUE,check_toc=TRUE)
&gt; get_eurostat_data("nama_10_gdp",cache_dir="/tmp",stringAsFactors=FALSE,cflags=TRUE)
&gt;
&gt; options(restatapi_update=TRUE)
&gt; options(restatapi_cache_dir=file.path(tempdir(),"restatapi"))
&gt;
&gt; dt&lt;-get_eurostat_data("avia_par_me",select_freq="A",cache=FALSE)
&gt; dt&lt;-get_eurostat_data("agr_r_milkpr",date_filter=2008,keep_flags=TRUE)
&gt; dt&lt;-get_eurostat_data("avia_par_ee",
&gt;                        filters="BE$",
&gt;                        date_filter=c("2017-03",2016,"2017-07-01",2012:2014),
&gt;                        select_freq="Q",
&gt;                        label=TRUE,
&gt;                        verbose=TRUE,
&gt;                        name=FALSE)
&gt; dt&lt;-get_eurostat_data("bop_its6_det",
&gt;                        filters=list(bop_item="SC",
&gt;                                     currency="MIO_EUR",
&gt;                                     partner="EXT_EU28",
&gt;                                     geo=c("EU28","HU"),
&gt;                                     stk_flow="BAL"),
&gt;                        date_filter="2010:2012",
&gt;                        select_freq="A",
&gt;                        label=TRUE,
&gt;                        name=FALSE,
&gt;                        ignore.case=TRUE)     
&gt; options(restatapi_cache_dir=tempdir())
&gt; dt&lt;-get_eurostat_data("agr_r_milkpr",
&gt;                       filters=c("BE$","Hungary"),
&gt;                       date_filter="2007-06&lt;",
&gt;                       keep_flags=TRUE)
&gt; dt&lt;-get_eurostat_data("agr_r_milkpr",
&gt;                       filters="BE",
&gt;                       exact_match=FALSE,
&gt;                       date_filter="2006-02:2008-06-05",
&gt;                       keep_flags=TRUE,
&gt;                       stringsAsFactors=FALSE,
&gt;                       label=TRUE,
&gt;                       ignore.case=TRUE)
&gt;
&gt; eu&lt;-get("cc",envir=.restatapi_env)
&gt; dt&lt;-get_eurostat_data("agr_r_milkpr",
&gt;                       filters=eu$NMS10,
&gt;                       date_filter="2009-03-01:2011-06-05",
&gt;                       keep_flags=TRUE,
&gt;                       stringsAsFactors=FALSE,
&gt;                       label=TRUE)
&gt;
&gt; dt&lt;-get_eurostat_data("nama_10_a10_e",
&gt;                       filters=c("Annual","EU28","Belgium","AT","Total","EMP_DC","person"),
&gt;                       date_filter=c("2008",2002,"2005-01",2013:2018))
&gt; dt&lt;-get_eurostat_data("avia_par_me",
&gt;                       filters="Q...ME_LYPG_HU_LHBP+ME_LYTV_UA_UKKK",
&gt;                       date_filter=c("2016-08","2017-07-01"),
&gt;                       select_freq="M") 
&gt; dt&lt;-get_eurostat_data("avia_par_me",
&gt;                       filters=c("HU","Quarterly","Monthly"),
&gt;                       date_filter=c("2016-08","2014-03-01"),
&gt;                       label=TRUE)
&gt;
&gt; clean_restatapi_cache(tempdir(),verbose=TRUE)</pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=restatapi">https://​cloud.r-project.org/​package=restatapi</a>
</li>
<li>Browse source code at <br><a href="https://github.com/eurostat/restatapi/">https://​github.com/​eurostat/​restatapi/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/eurostat/restatapi/issues">https://​github.com/​eurostat/​restatapi/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://joinup.ec.europa.eu/software/page/eupl">EUPL-1.1</a> </li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Mátyás Mészáros <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Mátyás Mészáros.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
